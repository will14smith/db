CREATE TABLE
CREATE INDEX
=== Plan ===
p2 = projection
  : columns (id, name, country)
  s1 = sort (+name; +country)
    t0 = scan (tbl)

=== Program ===
[
  cursor_table_scan_tbl
  sorter cursor
  sorter
] {
  SORTER.NEW +key0; +key1
  STORE S2_sorter
  CUR.OPEN.RT tbl
  CUR.FIRST
  STORE S0_cursor_table_scan_tbl
L2_sorter_insert_start:
  LOAD S0_cursor_table_scan_tbl
  CUR.NEXT L3_sorter_insert_end
  STORE S0_cursor_table_scan_tbl
  LOAD S0_cursor_table_scan_tbl
  COL 1
  LOAD S0_cursor_table_scan_tbl
  COL 2
  LOAD S0_cursor_table_scan_tbl
  COL 0
  LOAD S0_cursor_table_scan_tbl
  COL 1
  LOAD S0_cursor_table_scan_tbl
  COL 2
  MK.ROW 5
  LOAD S2_sorter
  INSERT
  J L2_sorter_insert_start
L3_sorter_insert_end:
  LOAD S2_sorter
  SORTER.SORT
  LOAD S2_sorter
  SORTER.CUR
  CUR.FIRST
  STORE S1_sorter_cursor
L0_loop_start:
  LOAD S1_sorter_cursor
  CUR.NEXT L1_loop_done
  STORE S1_sorter_cursor
  LOAD S1_sorter_cursor
  COL 2
  LOAD S1_sorter_cursor
  COL 3
  LOAD S1_sorter_cursor
  COL 4
  MK.ROW 3
  YIELD
  J L0_loop_start
L1_loop_done:
  FINISH
}
1 | Alan    | GB
2 | Betty   | FR
3 | Charles | DE
4 | Donna   | GR
5 | Emma    | GB
6 | Will    | GB
7 | Yvonne  | AU
8 | Zach    | US
